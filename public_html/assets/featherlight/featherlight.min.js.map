{"version":3,"file":"featherlight.min.js","sources":["featherlight.js"],"names":["$","opened","pruneOpened","eventMap","globalEventHandler","toggleGlobalEvents","Featherlight","$content","config","this","fl","open","id","setup","chainCallbacks","_callbackChain","fn","jquery","match","window","console","info","event","each","reverse","isDefaultPrevented","type","preventDefault","stopPropagation","set","events","_globalHandlerInstalled","map","_","name","prototype","namespace","join","constructor","targetAttr","variant","resetCss","keyup","resize","background","openTrigger","closeTrigger","filter","root","closeOnClick","closeOnEsc","loading","persist","remove","grep","$instance","closest","length","otherClose","beforeOpen","noop","beforeContent","beforeClose","afterOpen","afterContent","afterClose","onKeyUp","onResize","closeIcon","contentFilters","width","height","maxWidth","maxHeight","requireWindowWidth","target","undefined","self","extend","css","$background","closeButtonSelector","clone","addClass","on","$target","is","close","getContent","readTargetAttr","$currentTarget","attr","filters","targetValue","data","filterName","test","regex","error","process","call","setContent","removeClass","show","find","html","prepend","ctrlKey","shiftKey","hide","appendTo","push","when","always","parent","then","promise","done","detach","Deferred","reject","deferred","resolve","chain","proxy","autoBind","defaults","elem","image","url","img","Image","$img","onload","naturalWidth","naturalHeight","onerror","src","ajax","replace","$container","load","response","status","contents","fail","iframe","text","functionAttributes","readElementConfig","element","Klass","regexp","RegExp","attributes","val","value","camelCase","inArray","Function","JSON","parse","e","child","Ctor","__super__","attach","$source","handler","currentTarget","elemConfig","sharedPersist","blur","tempConfig","current","all","klass","cur","_onReady","document","evt","_super","keyCode","featherlight","_previouslyActive","activeElement","_$previouslyTabbable","not","_$previouslyWithTabIndex","_previousWithTabIndices","_i","add","r","removeAttr","i","focus","ready","jQuery"],"mappings":"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"}