{"version":3,"file":"featherlight.min.js","sources":["featherlight.js"],"names":["$","opened","pruneOpened","toggleGlobalEvents","Featherlight","$modal","config","this","fl","open","id","setup","chainCallbacks","_callbackChain","fn","jquery","match","window","console","info","remove","grep","$instance","closest","length","newState","eventMap","events","_globalHandlerInstalled","map","keyup","resize","_","name","prototype","namespace","join","event","each","reverse","isDefaultPrevented","type","preventDefault","stopPropagation","constructor","autoBind","targetAttr","openTrigger","filter","closeOnClick","closeOnEsc","loading","persist","otherClose","beforeOpen","noop","beforeContent","beforeClose","afterOpen","afterContent","afterClose","onKeyUp","onResize","closeIcon","contentFilters","seamless","width","height","maxWidth","maxHeight","requireWindowWidth","target","undefined","self","extend","on","is","close","getContent","readTargetAttr","$currentTarget","attr","filters","targetValue","data","filterName","test","regex","error","process","call","setContent","removeClass","show","find","html","prepend","ctrlKey","shiftKey","hide","appendTo","addClass","push","when","always","parent","css","then","promise","done","detach","Deferred","reject","deferred","resolve","chain","proxy","defaults","element","clone","image","url","img","Image","$img","onload","naturalWidth","naturalHeight","onerror","src","ajax","replace","$container","load","response","status","contents","iframe","text","functionAttributes","readElementConfig","i","Function","attach","$source","handler","$target","currentTarget","elementConfig","sharedPersist","blur","tempConfig","current","all","cur","_onReady","$autobound","document","$cur","add","parentsUntil","_super","keyCode","featherlight","_previouslyActive","activeElement","_$previouslyTabbable","not","_$previouslyWithTabIndex","_previousWithTabIndices","_i","focus","removeAttr","off","ready","jQuery"],"mappings":"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"}