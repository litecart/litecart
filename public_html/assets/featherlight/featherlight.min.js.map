{"version":3,"file":"featherlight.min.js","sources":["featherlight.js"],"names":["$","opened","pruneOpened","eventMap","globalEventHandler","toggleGlobalEvents","Featherlight","$modal","config","this","fl","open","id","setup","chainCallbacks","_callbackChain","fn","jquery","match","window","console","info","event","each","reverse","isDefaultPrevented","type","preventDefault","stopPropagation","set","events","_globalHandlerInstalled","map","_","name","prototype","namespace","join","constructor","targetAttr","variant","resetCss","keyup","resize","background","openTrigger","closeTrigger","filter","root","closeOnClick","closeOnEsc","loading","persist","remove","grep","$instance","closest","length","otherClose","beforeOpen","noop","beforeContent","beforeClose","afterOpen","afterContent","afterClose","onKeyUp","onResize","closeIcon","contentFilters","seamless","width","height","maxWidth","maxHeight","requireWindowWidth","target","undefined","self","extend","css","$background","closeButtonSelector","clone","addClass","on","$target","is","close","getContent","readTargetAttr","$currentTarget","attr","filters","targetValue","data","filterName","test","regex","error","process","call","setContent","removeClass","show","find","html","prepend","ctrlKey","shiftKey","hide","appendTo","push","when","always","parent","then","promise","done","detach","Deferred","reject","deferred","resolve","chain","proxy","autoBind","defaults","element","image","url","img","Image","$img","onload","naturalWidth","naturalHeight","onerror","src","ajax","replace","$container","load","response","status","contents","iframe","text","functionAttributes","readElementConfig","Klass","regexp","RegExp","attributes","val","value","camelCase","inArray","Function","JSON","parse","e","child","Ctor","__super__","attach","$source","handler","currentTarget","elemConfig","sharedPersist","blur","tempConfig","current","all","klass","cur","_onReady","document","evt","_super","keyCode","featherlight","_previouslyActive","activeElement","_$previouslyTabbable","not","_$previouslyWithTabIndex","_previousWithTabIndices","_i","elem","add","r","removeAttr","i","focus","ready","jQuery"],"mappings":"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"}