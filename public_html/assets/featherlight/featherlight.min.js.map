{"version":3,"file":"featherlight.min.js","sources":["featherlight.js"],"names":["$","opened","pruneOpened","eventMap","globalEventHandler","toggleGlobalEvents","Featherlight","$content","config","this","fl","open","id","setup","chainCallbacks","_callbackChain","fn","jquery","match","window","console","info","event","each","reverse","isDefaultPrevented","type","preventDefault","stopPropagation","set","events","_globalHandlerInstalled","map","_","name","prototype","namespace","join","constructor","targetAttr","variant","resetCss","keyup","resize","background","openTrigger","closeTrigger","filter","root","closeOnClick","closeOnEsc","loading","persist","remove","grep","$instance","closest","length","otherClose","beforeOpen","noop","beforeContent","beforeClose","afterOpen","afterContent","afterClose","onKeyUp","onResize","closeIcon","contentFilters","seamless","width","height","maxWidth","maxHeight","requireWindowWidth","target","undefined","self","extend","css","$background","closeButtonSelector","clone","addClass","on","$target","is","close","getContent","readTargetAttr","$currentTarget","attr","filters","targetValue","data","filterName","test","regex","error","process","call","setContent","removeClass","show","find","html","prepend","ctrlKey","shiftKey","hide","appendTo","push","when","always","parent","then","promise","done","detach","Deferred","reject","deferred","resolve","chain","proxy","autoBind","defaults","elem","image","url","img","Image","$img","onload","naturalWidth","naturalHeight","onerror","src","ajax","replace","$container","load","response","status","contents","fail","iframe","text","functionAttributes","readElementConfig","element","i","Function","child","Ctor","__super__","attach","$source","Klass","handler","currentTarget","elemConfig","sharedPersist","blur","tempConfig","current","all","klass","cur","_onReady","document","evt","_super","keyCode","featherlight","_previouslyActive","activeElement","_$previouslyTabbable","not","_$previouslyWithTabIndex","_previousWithTabIndices","_i","add","r","removeAttr","focus","ready","jQuery"],"mappings":"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"}