waitFor("jQuery",t=>{t('#sidebar input[name="filter"]').on({input:function(){let e=t(this).val();""==t(this).val()?t("#box-apps-menu .app").css("display","block"):t("#box-apps-menu .app").each(function(){new RegExp(""+e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"ig").test(t(this).text())?t(this).show():t(this).hide()})}})}),waitFor("jQuery",a=>{a('#sidebar input[name="filter"]').on({input:function(){let t=a(this).val();""==a(this).val()?a("#box-apps-menu .app").css("display","block"):a("#box-apps-menu .app").each(function(){var e=new RegExp(""+t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"ig");console.log(),e.test(a(this).text())?a(this).show():a(this).hide()})}});let t=null,s=null;a('#search input[name="query"]').on({focus:function(){a(this).val()&&a("#search.dropdown").addClass("open")},blur:function(){a("#search").filter(":hover").length?a("#search.dropdown").on("blur",function(){a("#search.dropdown").removeClass("open")}):a("#search.dropdown").removeClass("open")},input:function(){s&&s.abort();let e=a(this);e.val()?(a("#search .results").html(['<div class="loader-wrapper text-center">','  <div class="loader" style="width: 48px; height: 48px;"></div>',"</div>"].join("\n")),a("#search.dropdown").addClass("open"),clearTimeout(t),t=setTimeout(function(){s=a.ajax({type:"get",async:!0,cache:!1,url:_env.backend.url+"search_results.json?query="+e.val(),dataType:"json",beforeSend:function(e){e.overrideMimeType("text/html;charset="+a("html meta[charset]").attr("charset"))},error:function(e,t,s){a("#search .results").text(t+": "+s)},success:function(e){a("#search .results").html(""),a('#search input[name="query"]').val()?(a.each(e,function(e,s){s.results.length&&(a("#search .results").append("<h3>"+s.name+'</h3><ul class="flex flex-rows flex-nogap" data-group="'+s.name+'"></ul>'),a.each(s.results,function(e,t){t=a(['<li class="result">','  <a class="list-group-item" href="'+t.link+'" style="border-inline-start: 3px solid '+s.theme.color+"; background: "+s.theme.color+'11;">','    <small class="id float-end">#'+t.id+"</small>",'    <div class="title">'+t.title+"</div>",'    <div class="description"><small>'+t.description+"</small></div>","  </a>","</li>"].join("\n"));a('#search .results ul[data-group="'+s.name+'"]').append(t)}))}),""==a("#search .results").html()&&a("#search .results").html('<p class="text-center no-results"><em>:(</em></p>')):a("#search .results").html("Search")}})},500)):(a("#search .results").html(""),a("#search.dropdown").removeClass("open"))}})}),waitFor("jQuery",function(t){t('button[name="font_size"]').on("click",function(){var e=parseInt(t(":root").css("--default-text-size").split("px")[0])+("increase"==t(this).val()?1:-1);t(":root").css("--default-text-size",e+"px"),document.cookie=`font_size=${e}; Path=${_env.platform.path}; Max-Age=2592000;`}),t('input[name="dark_mode"]').on("click",function(){1==t(this).val()?(document.cookie=`dark_mode=1; Path=${_env.platform.path}; Max-Age=2592000;`,t("html").addClass("dark-mode")):(document.cookie=`dark_mode=0; Path=${_env.platform.path}; Max-Age=2592000;`,t("html").removeClass("dark-mode"))})});