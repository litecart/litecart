waitFor("jQuery",s=>{s('#sidebar input[name="filter"]').on({input:function(){let e=s(this).val();""==s(this).val()?s("#box-apps-menu .app").css("display","block"):s("#box-apps-menu .app").each(function(){new RegExp(""+e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"ig").test(s(this).text())?s(this).show():s(this).hide()})}})}),waitFor("jQuery",a=>{let s=null,t=null;a('#search input[name="query"]').on({focus:function(){a(this).val()&&a("#search.dropdown").addClass("open")},blur:function(){a("#search").filter(":hover").length?a("#search.dropdown").on("blur",function(){a("#search.dropdown").removeClass("open")}):a("#search.dropdown").removeClass("open")},input:function(){t&&t.abort();let e=a(this);e.val()?(a("#search .results").html(['<div class="loader-wrapper text-center">','  <div class="loader" style="width: 48px; height: 48px;"></div>',"</div>"].join("\n")),a("#search.dropdown").addClass("open"),clearTimeout(s),s=setTimeout(function(){t=a.ajax({type:"get",async:!0,cache:!1,url:_env.backend.url+"search_results.json?query="+e.val(),dataType:"json",beforeSend:function(e){e.overrideMimeType("text/html;charset="+a("html meta[charset]").attr("charset"))},error:function(e,s,t){a("#search .results").text(s+": "+t)},success:function(e){a("#search .results").html(""),a('#search input[name="query"]').val()?(a.each(e,function(e,t){t.results.length&&(a("#search .results").append("<h3>"+t.name+'</h3><ul class="flex flex-rows" data-group="'+t.name+'"></ul>'),a.each(t.results,function(e,s){s=a(['<li class="result">','  <a class="list-group-item" href="'+s.link+'" style="border-inline-start: 3px solid '+t.theme.color+"; background: "+t.theme.color+'11;">','    <small class="id float-end">#'+s.id+"</small>",'    <div class="title">'+s.title+"</div>",'    <div class="description"><small>'+s.description+"</small></div>","  </a>","</li>"].join("\n"));a('#search .results ul[data-group="'+t.name+'"]').append(s)}))}),""==a("#search .results").html()&&a("#search .results").html('<p class="text-center no-results"><em>:(</em></p>')):a("#search .results").html("Search")}})},500)):(a("#search .results").html(""),a("#search.dropdown").removeClass("open"))}})});